<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trinity | Finansal Grafik Platformu</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="dark-theme">

  <!-- Üst Menü -->
  <header class="main-header">
    <div class="logo">
      <img src="img/logo.png" alt="Trinity Logo" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'><rect width=\'100\' height=\'100\' fill=\'%232962FF\'/><text x=\'50\' y=\'65\' font-size=\'50\' text-anchor=\'middle\' fill=\'white\' font-family=\'Arial\'>T</text></svg>'">
      <span>Trinity</span>
    </div>
    
    <div class="search-bar">
      <input type="text" id="symbolSearch" placeholder="Sembol ara..." data-i18n="[placeholder]header.search">
      <button><i class="fas fa-search"></i></button>
    </div>
    
    <!-- Ana Navigasyon Menüsü -->
    <nav class="main-nav-menu">
      <ul>
        <li><a href="#markets" class="nav-link active">Markets</a></li>
        <li><a href="#community" class="nav-link">Community</a></li>
        <li><a href="#tools" class="nav-link">Araçlar</a></li>
        <li><a href="#news" class="nav-link">News</a></li>
        <li><a href="#summary" class="nav-link">Summary</a></li>
      </ul>
    </nav>
    
    <!-- Sağ Üst Menü - Giriş ve Ayarlar -->
    <div class="user-nav">
      <ul>
        <li><a href="#" id="loginBtn"><i class="fas fa-user"></i> Giriş Yap</a></li>
        <li><a href="#" id="settingsBtn"><i class="fas fa-cog"></i></a></li>
        <li>
          <select id="languageSelector">
            <option value="tr">Türkçe</option>
            <option value="en">English</option>
          </select>
        </li>
      </ul>
    </div>
  </header>

  <!-- Ana İçerik -->
  <main class="main-content">
    <!-- Grafik ve Araçlar Ana Bölümü -->
    <section class="chart-container" id="marketSummary">
      <!-- Üst Araç Çubuğu -->
      <div class="chart-toolbar">
        <div class="timeframe-selector">
          <button class="timeframe active" data-timeframe="1m">1d</button>
          <button class="timeframe" data-timeframe="5m">5d</button>
          <button class="timeframe" data-timeframe="15m">15d</button>
          <button class="timeframe" data-timeframe="1h">1s</button>
          <button class="timeframe" data-timeframe="4h">4s</button>
          <button class="timeframe" data-timeframe="1d">1g</button>
          <button class="timeframe" data-timeframe="1w">1h</button>
        </div>
        
        <div class="chart-tools">
          <button id="indicatorsBtn" class="tool-btn" title="Göstergeler">
            <i class="fas fa-chart-line"></i>
          </button>
          <div id="indicatorsDropdown" class="dropdown-menu">
            <div class="indicator-item" data-type="ma">Hareketli Ortalama (MA)</div>
            <div class="indicator-item" data-type="bb">Bollinger Bantları (BB)</div>
            <div class="indicator-item" data-type="rsi">Göreceli Güç Endeksi (RSI)</div>
            <div class="indicator-item" data-type="macd">MACD</div>
            <div class="indicator-item" data-type="volume">Hacim</div>
          </div>
          
          <button id="addComparison" class="tool-btn" title="Karşılaştır">
            <i class="fas fa-chart-area"></i>
          </button>
          <div id="comparisonDropdown" class="dropdown-menu">
            <div class="dropdown-header">
              <input type="text" id="comparisonSearch" placeholder="Sembol ara...">
            </div>
            <div id="comparisonSuggestions" class="comparison-suggestions"></div>
          </div>
          
          <button id="exportChart" class="tool-btn" title="Dışa Aktar">
            <i class="fas fa-download"></i>
          </button>
          <div id="exportDropdown" class="dropdown-menu">
            <div class="export-item" data-format="png">PNG Olarak Kaydet</div>
            <div class="export-item" data-format="csv">CSV Olarak İndir</div>
            <div class="export-item" data-format="json">JSON Olarak İndir</div>
          </div>
          
          <button id="settingsChart" class="tool-btn" title="Ayarlar">
            <i class="fas fa-cog"></i>
          </button>
        </div>
      </div>
      
      <!-- Karşılaştırma Sembolleri Görüntüleme Alanı -->
      <div id="activeComparisons" class="active-comparisons"></div>
      
      <!-- Ana Grafik -->
      <div id="chart" class="chart"></div>
      
      <!-- Piyasa İzleme Bölümü -->
      <div class="market-watchlist">
        <div class="market-category-tabs">
          <button class="market-category active">Endeksler</button>
          <button class="market-category">Hisseler</button>
          <button class="market-category">Kripto</button>
          <button class="market-category">Forex</button>
          <button class="market-category">ETF'ler</button>
        </div>
        
        <div class="market-items">
          <div class="market-item">
            <div class="market-symbol-badge">
              <div class="symbol-badge">500</div>
              <div class="market-details">
                <div class="symbol-name">S&P 500</div>
                <div class="symbol-price">5,844.20<span class="price-unit">USD</span></div>
              </div>
            </div>
            <div class="market-change up">+3.26%</div>
          </div>
          
          <div class="market-item">
            <div class="market-symbol-badge">
              <div class="symbol-badge nasdaq">100</div>
              <div class="market-details">
                <div class="symbol-name">Nasdaq 100</div>
                <div class="symbol-price">20,868.15<span class="price-unit">USD</span></div>
              </div>
            </div>
            <div class="market-change up">+4.02%</div>
          </div>
          
          <div class="market-item">
            <div class="market-symbol-badge">
              <div class="symbol-badge dow">30</div>
              <div class="market-details">
                <div class="symbol-name">Dow 30</div>
                <div class="symbol-price">42,410.11<span class="price-unit">USD</span></div>
              </div>
            </div>
            <div class="market-change up">+2.81%</div>
          </div>
          
          <div class="market-item">
            <div class="market-symbol-badge">
              <div class="symbol-badge japan">225</div>
              <div class="market-details">
                <div class="symbol-name">Japan 225</div>
                <div class="symbol-price">38,183.04<span class="price-unit">JPY</span></div>
              </div>
            </div>
            <div class="market-change up">+1.43%</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Sağ Kenar Çubuğu - İzleme Listesi -->
    <aside class="sidebar right-sidebar">
      <div class="watchlist-container">
        <div class="watchlist-header">
          <h3 data-i18n="sidebar.watchlist">İzleme Listesi</h3>
          <button class="add-btn" title="Yeni İzleme Listesi"><i class="fas fa-plus"></i></button>
        </div>
        <div class="watchlist-filter">
          <input type="text" placeholder="Filtrele..." data-i18n="[placeholder]sidebar.filter">
        </div>
        <ul id="watchlist" class="watchlist">
          <li>
            <div class="stock-info">
              <span class="stock-symbol">AAPL</span>
              <span class="stock-name">Apple Inc.</span>
            </div>
            <div class="stock-price">
              <span class="price-value">$191.56</span>
              <span class="price-change up">+1.24%</span>
            </div>
          </li>
          <li>
            <div class="stock-info">
              <span class="stock-symbol">MSFT</span>
              <span class="stock-name">Microsoft Corp.</span>
            </div>
            <div class="stock-price">
              <span class="price-value">$426.96</span>
              <span class="price-change up">+2.51%</span>
            </div>
          </li>
          <li>
            <div class="stock-info">
              <span class="stock-symbol">GOOGL</span>
              <span class="stock-name">Alphabet Inc.</span>
            </div>
            <div class="stock-price">
              <span class="price-value">$161.84</span>
              <span class="price-change up">+1.73%</span>
            </div>
          </li>
          <li>
            <div class="stock-info">
              <span class="stock-symbol">AMZN</span>
              <span class="stock-name">Amazon.com Inc.</span>
            </div>
            <div class="stock-price">
              <span class="price-value">$178.08</span>
              <span class="price-change up">+1.73%</span>
            </div>
          </li>
          <li>
            <div class="stock-info">
              <span class="stock-symbol">NVDA</span>
              <span class="stock-name">NVIDIA Corp.</span>
            </div>
            <div class="stock-price">
              <span class="price-value">$950.02</span>
              <span class="price-change up">+2.85%</span>
            </div>
          </li>
          <li>
            <div class="stock-info">
              <span class="stock-symbol">TSLA</span>
              <span class="stock-name">Tesla Inc.</span>
            </div>
            <div class="stock-price">
              <span class="price-value">$219.96</span>
              <span class="price-change down">-0.81%</span>
            </div>
          </li>
          <li>
            <div class="stock-info">
              <span class="stock-symbol">BTC</span>
              <span class="stock-name">Bitcoin USD</span>
            </div>
            <div class="stock-price">
              <span class="price-value">$68,443.98</span>
              <span class="price-change up">+3.02%</span>
            </div>
          </li>
          <li>
            <div class="stock-info">
              <span class="stock-symbol">ETH</span>
              <span class="stock-name">Ethereum USD</span>
            </div>
            <div class="stock-price">
              <span class="price-value">$3,448.76</span>
              <span class="price-change up">+2.48%</span>
            </div>
          </li>
        </ul>
      </div>
    </aside>
  </main>
  
  <!-- Giriş Modalı -->
  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2 data-i18n="login.title">Giriş Yap</h2>
      <form id="loginForm">
        <div class="form-group">
          <label for="email" data-i18n="login.email">E-posta</label>
          <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
          <label for="password" data-i18n="login.password">Şifre</label>
          <input type="password" id="password" name="password" required>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary" data-i18n="login.submit">Giriş Yap</button>
          <a href="#" class="forgot-password" data-i18n="login.forgot">Şifremi Unuttum</a>
        </div>
      </form>
    </div>
  </div>
  
  <!-- Ayarlar Modalı -->
  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2 data-i18n="settings.title">Ayarlar</h2>
      <div class="settings-container">
        <div class="settings-section">
          <h3 data-i18n="settings.appearance">Görünüm</h3>
          <div class="form-group">
            <label for="theme" data-i18n="settings.theme">Tema</label>
            <select id="theme">
              <option value="dark" data-i18n="settings.dark">Koyu</option>
              <option value="light" data-i18n="settings.light">Açık</option>
            </select>
          </div>
          <div class="form-group">
            <label for="chartType" data-i18n="settings.chartType">Grafik Tipi</label>
            <select id="chartType">
              <option value="candle" data-i18n="settings.candle">Mum</option>
              <option value="line" data-i18n="settings.line">Çizgi</option>
              <option value="bar" data-i18n="settings.bar">Çubuk</option>
              <option value="area" data-i18n="settings.area">Alan</option>
            </select>
          </div>
        </div>
        
        <div class="settings-section">
          <h3 data-i18n="settings.preferences">Tercihler</h3>
          <div class="form-group">
            <label for="language" data-i18n="settings.language">Dil</label>
            <select id="language">
              <option value="tr" data-i18n="settings.turkish">Türkçe</option>
              <option value="en" data-i18n="settings.english">İngilizce</option>
            </select>
          </div>
          <div class="form-group">
            <label for="defaultPage" data-i18n="settings.defaultPage">Varsayılan Sayfa</label>
            <select id="defaultPage">
              <option value="markets" data-i18n="settings.marketsPage">Piyasalar</option>
              <option value="watchlist" data-i18n="settings.watchlistPage">İzleme Listesi</option>
              <option value="chart" data-i18n="settings.chartPage">Grafik</option>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Gösterge Ayarları Modalı (Her gösterge tipi için) -->
  <div id="indicatorSettingsModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2 id="indicatorTitle">Gösterge Ayarları</h2>
      <form id="indicatorSettingsForm">
        <div id="indicatorParams" class="form-group">
          <!-- Gösterge parametreleri dinamik olarak eklenecek -->
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Uygula</button>
          <button type="button" id="removeIndicator" class="btn">Kaldır</button>
        </div>
      </form>
    </div>
  </div>
  
  <!-- Grafik Ayarları Modalı -->
  <div id="chartSettingsModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2 data-i18n="chartSettings.title">Grafik Ayarları</h2>
      <form id="chartSettingsForm">
        <div class="form-group">
          <label for="chartBackground" data-i18n="chartSettings.background">Grafik Arkaplanı</label>
          <input type="color" id="chartBackground" name="chartBackground" value="#131722">
        </div>
        <div class="form-group">
          <label for="gridLines" data-i18n="chartSettings.gridLines">Izgara Çizgileri</label>
          <select id="gridLines" name="gridLines">
            <option value="all" data-i18n="chartSettings.all">Hepsi</option>
            <option value="horizontal" data-i18n="chartSettings.horizontal">Yatay</option>
            <option value="vertical" data-i18n="chartSettings.vertical">Dikey</option>
            <option value="none" data-i18n="chartSettings.none">Hiçbiri</option>
          </select>
        </div>
        <div class="form-group">
          <label for="watermarkOpacity" data-i18n="chartSettings.watermark">Filigran Opaklığı</label>
          <input type="range" id="watermarkOpacity" name="watermarkOpacity" min="0" max="100" value="15">
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary" data-i18n="chartSettings.apply">Uygula</button>
          <button type="button" id="resetSettings" class="btn" data-i18n="chartSettings.reset">Sıfırla</button>
        </div>
      </form>
    </div>
  </div>
  
  <script src="js/i18n.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
  <script src="js/indicators.js"></script>
  <script src="js/chart.js"></script>
  <script src="js/api.js"></script>
  <script src="js/app.js"></script>
</body>
</html> 